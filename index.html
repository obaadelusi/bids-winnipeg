<!-------------------

    Name: Obafunsho Adelusi
    Date: October 14, 2023
    Description: Open API 

--------------------->

<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="main.css" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
	<title>My Open Data Assignment</title>
</head>

<body class="d-flex flex-column min-vh-100">
	<!-- Navbar -->
	<nav class="navbar navbar-expand-lg bg-body-tertiary mb-3">
		<div class="container-fluid">
			<a class="navbar-brand" href="#">Winnipeg Open Data</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
				aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav">
					<li class="nav-item">
						<a class="nav-link active" aria-current="page" href="#">Home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="https://dev.socrata.com/foundry/data.winnipeg.ca/rijt-92n4">API
							Docs</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="https://data.winnipeg.ca/resource/rijt-92n4.json">API
							JSON Data</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>

	<main class="container">
		<h2 class="display-4">Bid Opportunities in City of Winnipeg </h2>

		<form class="card my-3">
			<div class="card-body bg-body-tertiary">
				<h3>üîç Search for a bid</h3>

				<!-- Year input -->
				<div class="my-4 row">
					<label for="inputYear" class="col-sm-3 text-sm-end col-form-label">Year</label>
					<div class="col-sm-3">
						<input type="number" class="form-control text-end" id="inputYear" min="1994" max="2024">
						<small class="form-text text-muted">
							ex.
							<a href="#" onclick="document.getElementById('inputYear').value = 2022;">2022</a>,
							<a href="#" onclick="document.getElementById('inputYear').value = 2023;">2023</a>
						</small>
					</div>
				</div>

				<!-- Contract description input -->
				<div class="mb-4 row">
					<label for="inputDescription" class="col-sm-3 text-sm-end col-form-label">Description</label>
					<div class="col-sm-8">
						<input type="search" class="form-control" id="inputDescription"
							placeholder="e.g. Bridge maintenance">
						<small class="form-text text-muted">
							ex.
							<a href="#"
								onclick="document.getElementById('inputDescription').value='Pavement renewal';">Pavement
								renewal</a>,
							<a href="#"
								onclick="document.getElementById('inputDescription').value='Water treatment';">Water
								treatment</a>
						</small>
					</div>
				</div>

				<div class="text-secondary text-center mb-3">------ OR ------</div>

				<!-- Bid Number input -->
				<div class="mb-4 row">
					<label for="inputBidNumber" class="col-sm-3 text-sm-end col-form-label">Bid Number</label>
					<div class="col-sm-6">
						<input type="search" class="form-control" id="inputBidNumber">
						<small class="form-text text-muted">
							ex. <a href="#"
								onclick="document.getElementById('inputBidNumber').value='69-2023';">69-2023</a>
						</small>
					</div>
				</div>

				<!-- Status input -->
				<div class="mb-3 row align-items-center">
					<div class="col-sm-3 text-sm-end col-form-label">Status <b class="text-danger">*</b></div>
					<div class="col-sm-4">
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="checkbox" id="chkStatusOpen" name="inputStatus"
								value="Open" checked disabled>
							<label class="form-check-label" for="chkStatusOpen">Open</label>
						</div>
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="checkbox" id="chkStatusClosed" name="inputStatus"
								value="Closed" checked disabled>
							<label class="form-check-label" for="chkStatusClosed">Closed</label>
						</div>
					</div>
				</div>

				<!-- Order By input -->
				<div class="mb-4 row">
					<label for="orderBy" class="col-sm-3 text-sm-end">Order by</label>
					<div class="col-sm-5">
						<select name="orderBy" id="orderBy" class="form-select">
							<option value="yearAsc">Year A-Z</option>
							<option value="yearDesc">Year Z-A</option>
							<option value="statusDesc" selected>Status (Open first)</option>
							<option value="statusAsc">Status (Closed first)</option>
						</select>
					</div>
				</div>

				<!-- Accordion - Advanced Options -->
				<div class="accordion mb-3" id="advancedOptions">
					<div class="accordion-item">
						<h2 class="accordion-header">
							<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
								data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
								Advanced Options
							</button>
						</h2>
						<div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#advancedOptions">
							<div class="accordion-body">
								<!-- Contract officer input -->
								<div class="mb-4 row">
									<label for="inputOfficerName" class="col-sm-3 text-sm-end col-form-label">Contract
										Officer Name</label>
									<div class="col-sm-6">
										<input type="search" class="form-control" id="inputOfficerName">
										<small class="form-text text-muted">
											ex. <a href="#"
												onclick="document.getElementById('inputOfficerName').value='Ekie Oseghale';">Ekie
												Oseghale</a>,
											<a href="#"
												onclick="document.getElementById('inputOfficerName').value='Suzanne Bird';">Suzanne
												Bird</a>
										</small>
									</div>
								</div>

								<!-- Transaction type input -->
								<div class="mb-4 row">
									<label for="inputTransactionType"
										class="col-sm-3 text-sm-end col-form-label">Transaction
										Type</label>
									<div class="col-sm-6">
										<input class="form-control" type="search" list="transactionTypeOptions"
											id="inputTransactionType" placeholder="e.g. Request for Proposal">
										<datalist id="transactionTypeOptions">
											<option value="Provision of">
											<option value="Supply and Delivery of">
											<option value="Request for Proposal">
										</datalist>
										<small class="form-text text-muted">ex.
											<a href="#"
												onclick="document.getElementById('inputTransactionType').value='Provision';">Provision</a>,
											<a href="#"
												onclick="document.getElementById('inputTransactionType').value='Supply';">Supply</a>,
											<a href="#"
												onclick="document.getElementById('inputTransactionType').value='Delivery';">Delivery</a>
										</small>
									</div>
								</div>

								<!-- Trade Agreements input -->
								<div class="mb-3 row align-items-center">
									<div class="col-sm-3 text-sm-end col-form-label">Trade Agreements</div>
									<div class="col-sm-4">
										<div class="form-check form-check-inline">
											<input class="form-check-input" type="checkbox" id="chkTaCeta"
												name="inputTa" value="N" checked>
											<label class="form-check-label" for="chkTaCeta" data-bs-toggle="tooltip"
												data-bs-placement="top"
												data-bs-title="Comprehensive Economic and Trade Agreement">CETA</label>
										</div>
										<div class="form-check form-check-inline">
											<input class="form-check-input" type="checkbox" id="chkTaCfta"
												name="inputTa" value="N" checked>
											<label class="form-check-label" for="chkTaCfta" data-bs-toggle="tooltip"
												data-bs-placement="top"
												data-bs-title="Canadian Free Trade Agreement">CFTA</label>
										</div>
										<div class="form-check form-check-inline">
											<input class="form-check-input" type="checkbox" id="chkTaNwpta"
												name="inputTa" value="N" checked>
											<label class="form-check-label" for="chkTaNwpta" data-bs-toggle="tooltip"
												data-bs-placement="top"
												data-bs-title="New West Partnership Trade Agreement">NWPTA</label>
										</div>
									</div>
								</div>

							</div>
						</div>
					</div>
				</div>

				<!-- Buttons -->
				<div class="row justify-content-end align-items-center mb-3">
					<label for="inputLimit" class="col-4 text-end col-form-label">Max Results</label>
					<div class="col-3">
						<input type="number" class="form-control" id="inputLimit" value="100" max="100" readonly>
					</div>
				</div>
				<div class="d-flex gap-2 justify-content-end align-items-center">
					<button type="reset" class="btn btn-outline-dark">Reset</button>
					<button type="submit" id="buttonSearch" class="btn btn-primary h-100">Search</button>
				</div>

			</div>
		</form>

		<!-- Display search results -->
		<div class="my-3" id="content">
			<div class="d-flex gap-2 align-items-center">
				<h2 class="display-6">üßæ Search Results</h2>
				<div class="spinner-border text-success invisible" role="status" id="spinner">
					<span class="visually-hidden">Loading...</span>
				</div>
			</div>

			<h3 id="numberOfResults" class="text-primary"></h3>

			<div class="modal fade" id="bidModal" tabindex="-1" aria-labelledby="bidModalLabel" aria-hidden="true">
				<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
					<div class="modal-content">
						<div class="modal-header">
							<h1 class="modal-title fs-6" id="bidModalLabel"></h1>
							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						</div>
						<div class="modal-body" id="bidModalBody">
							<h2 id="bidModalDescription" class="fs-5"></h2>
							<ul class="list-group list-group-flush" id="bidListGroup">
							</ul>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
						</div>
					</div>
				</div>
			</div>

			<div class="mw-100 overflow-x-auto">
				<table class="table table-striped">
					<caption id="table-caption" class="text-center">üîç Search for a bid</caption>
					<thead class="table-light">
						<tr>
							<th scope="col">#</th>
							<th scope="col">Bid Number</th>
							<th scope="col">Status</th>
							<th scope="col">Contract Description</th>
							<th scope="col">Year</th>
							<th scope="col">Contract Officer</th>
							<th scope="col">Submission Deadline</th>
						</tr>
					</thead>
					<tbody class="table-group-divider" id="output"></tbody>
				</table>
			</div>
		</div>
	</main>

	<footer class="mt-auto bg-body-secondary p-2">
		<small class="text-center text-muted d-block">
			Data provided by <a target="_blank"
				href="https://data.winnipeg.ca/Organizational-Support-Services/Bid-Opportunities/rijt-92n4"
				class="alert-link"> City of Winnipeg Open Data Catalogue.</a> <br>Developed by <a target="_blank"
				href="https://github.com/obaadelusi/bids-winnipeg">Oba
				Adelusi</a> &copy; 2023
		</small>
	</footer>

	<script src="script.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
		crossorigin="anonymous"></script>
</body>

</html>